this.T??=0,T-=.3025,T++,arr=[8,0,-7,5,0,-7,8,0,-7,5,0,-7,8,0,5,-7,10,0,-7,5,0,-11,10,1,-7,7,3,-2,10,3,-2,7,12,0,-7,8,0,-7,12,0,-7,8,0,-7,12,0,8,-7,12,0,-7,8,0,-7,12,0,10,1,3,7,-2,3,5,7,8,-4,-11,5,-4,-11,8,-4,-7,5,-4,-11,10,-4,5,-7,7,-2,-9,3,-2,-9,7,-2,-9,3,-9,-2,8,7,5,10,12,0,-7,8,0,-7,12,0,-7,8,0,-7,12,0,8,-7,12,0,-7,8,0,-7,12,0,10,1,3,7,-2,3,5,7],this.k??=0,k+=.2,fract=function(k){return (k%1)%1},sawtooth=function(k){return fract(k*PI/800)/-.85},decay=function(s){return (255&-k/s>>4|128)*3},sine=function(s4){return sin(s4*2)/4},decay2=function(s1){return (255&-k*s1>>4)*3},song=function(d){return ((~T/++d/3)*pow(2,arr[k>>10&127]/12))%83.5125},y=1+((k&32768?~k>>13:k>>13)&3)/4,code=()=>{for(ǝ=0,ɐ=2;ɐ<=32;ɐ+=.75)ǝ+=sawtooth(ɐ*song(.01)%511/1.725/y/~ɐ*song(.02)%255)*!!~ɐ*decay(.5)/4095;return ǝ/12-.3125},drums=()=>{const kick=sin(cbrt(k%4096)*12)*decay(1)/1024;const snare=(sin(t/3>>1^t/32))*(k>>12&1)*(k>>16&7)/[1,2,3,4,5,6,7,8][k>>16&7]*2*decay2(1)**2/3071;const hihat=sin(t*1.5)*2*"1101101101101010"[k>>10&15]*decay2(4)/3072;return min(.5,max(kick+snare/484.25+hihat),0)},bass=(m=function(s2){return k3=sawtooth(T/4*s2*pow(2,[5,5,7,10,12,12,12,10,8,8,10,10,12,12,12,10][k>>13&15]/12))},max(-1.5,min(m(1)/2+m(2)/2+m(1.01)),-12))+1.6,w=random()*(4e4/(-k&262143))/256*[1,0][k>>18&1],bells=(sine(k3*32)+sine(k3*63)+sine(k3*127))/1024*decay2(1+(k>>12&3))*[0,1][k>>18&1],(code()*1.45+drums()/1.1+bass/1.5+w+bells/1.5)/1.25